{% extends 'layout-locked-screen.html' %}

{% block content %}
    
  <a id="notification" class="notification" href="sms">
    <img class="notification-icon" src='/images/message_logo.png' alt="">
    <div class="notification-message">
      <div class="notification-app">NHSApp</div>
      <div class="notification-content">
        <p class="nhsuk-body-s">You have new message.</p>
      </div>
    </div>
    <div class="status-time">now</div>
  </a>

{% endblock %}

{% block pageScripts %}
<script>
  // Function to detect the operating system
  function detectOperatingSystem() {
      const userAgent = navigator.userAgent || navigator.vendor || window.opera;

      // Check for iOS
      if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
          return "iOS";
      }
      // Check for Android
      else if (/android/i.test(userAgent)) {
          return "Android";
      }
      // If neither, return Unknown
      else {
          return "Unknown OS";
      }
  }


    // Function to update the link URLs based on OS
      function updateLinks() {
      const os = detectOperatingSystem();

      // const notification = document.getElementById('notification');
      const notifyBar = document.querySelector('#notification');
      const notifyImg = document.querySelector('#notification img');
      const notifyTime = document.getElementById('time');
      const notifyWallpaper = document.querySelector('.notification-body div');

      // Modify the URLs based on the OS detected
      if (os === "iOS") {
        // Change the image source to a new one
        notifyImg.src = '/images/message_logo.png'; 

        // This clears all the classes
        notifyBar.className = ''; 
        notifyTime.className = ''; 
        notifyWallpaper.className = ''; 

        // Add the new class
        notifyTime.classList.add('ios-time');
        notifyWallpaper.classList.add('ios-wallpaper');
        notifyBar.classList.add('ios-notification');
        
      } else if (os === "Android") {
        // Change the image source to a new one
        notifyImg.src = '/images/android-sms.png';

        // This clears all the classes
        notifyBar.className = ''; 
        notifyTime.className = ''; 
        notifyWallpaper.className = ''; 

        // Add the new class
        notifyTime.classList.add('android-time'); 
        notifyWallpaper.classList.add('android-wallpaper');
        notifyBar.classList.add('android-notification');

      } else {
        // For unknown OS, you can set default URLs

      }
    }

    // Call the updateLinks function when the page loads
    window.onload = updateLinks;
    console.log("Operating System:", detectOperatingSystem(

    ));
</script>
{% endblock %}


